{
  "id": "flight",
  "surfaceId": "flight-booking",
  "catalogId": "travel-booking",
  "label": "항공권",
  "icon": "airplane",
  "components": [
    {
      "id": "root",
      "component": "Column",
      "children": ["header", "trip-type", "route", "dates", "passengers", "class", "actions"]
    },
    {
      "id": "header",
      "component": "Text",
      "text": "항공권 검색",
      "style": "headline"
    },
    {
      "id": "trip-type",
      "component": "ChoicePicker",
      "label": "여행 유형",
      "mode": "single",
      "options": [
        {"value": "roundtrip", "label": "왕복"},
        {"value": "oneway", "label": "편도"}
      ],
      "binding": "/flight/tripType"
    },
    {
      "id": "route",
      "component": "Row",
      "children": ["departure", "swap-btn", "arrival"]
    },
    {
      "id": "departure",
      "component": "ChoicePicker",
      "label": "출발지",
      "options": "/airports",
      "binding": "/flight/departure",
      "excludeBinding": "/flight/arrival",
      "searchable": true
    },
    {
      "id": "swap-btn",
      "component": "Button",
      "icon": "swap",
      "variant": "icon",
      "action": "swap-route"
    },
    {
      "id": "arrival",
      "component": "ChoicePicker",
      "label": "도착지",
      "options": "/airports",
      "binding": "/flight/arrival",
      "excludeBinding": "/flight/departure",
      "searchable": true
    },
    {
      "id": "dates",
      "component": "Row",
      "children": ["departure-date", "return-date"]
    },
    {
      "id": "departure-date",
      "component": "DateTimeInput",
      "label": "출발일",
      "mode": "date",
      "binding": "/flight/departureDate",
      "minDate": "today"
    },
    {
      "id": "return-date",
      "component": "DateTimeInput",
      "label": "귀국일",
      "mode": "date",
      "binding": "/flight/returnDate",
      "minDate": "/flight/departureDate",
      "visible": "/flight/tripType == 'roundtrip'"
    },
    {
      "id": "passengers",
      "component": "Row",
      "children": ["adults", "children", "infants"]
    },
    {
      "id": "adults",
      "component": "Stepper",
      "label": "성인",
      "min": 1,
      "max": 9,
      "binding": "/flight/passengers/adults"
    },
    {
      "id": "children",
      "component": "Stepper",
      "label": "아동 (2-11세)",
      "min": 0,
      "max": 9,
      "binding": "/flight/passengers/children"
    },
    {
      "id": "infants",
      "component": "Stepper",
      "label": "유아 (0-2세)",
      "min": 0,
      "max": 9,
      "binding": "/flight/passengers/infants"
    },
    {
      "id": "class",
      "component": "ChoicePicker",
      "label": "좌석 등급",
      "options": [
        {"value": "economy", "label": "이코노미"},
        {"value": "premium", "label": "프리미엄 이코노미"},
        {"value": "business", "label": "비즈니스"},
        {"value": "first", "label": "퍼스트"}
      ],
      "binding": "/flight/class"
    },
    {
      "id": "actions",
      "component": "Row",
      "children": ["back-btn", "search-btn"]
    },
    {
      "id": "back-btn",
      "component": "Button",
      "label": "이전",
      "variant": "outlined",
      "action": "back"
    },
    {
      "id": "search-btn",
      "component": "Button",
      "label": "항공편 검색",
      "variant": "filled",
      "action": "search-flights"
    }
  ],
  "dataModel": {
    "flight": {
      "tripType": "roundtrip",
      "departure": "",
      "arrival": "",
      "departureDate": "",
      "returnDate": "",
      "passengers": {
        "adults": 1,
        "children": 0,
        "infants": 0
      },
      "class": "economy"
    }
  },
  "options": {
    "airports": [
      {"value": "ICN", "label": "인천국제공항 (ICN)"},
      {"value": "GMP", "label": "김포국제공항 (GMP)"},
      {"value": "CJU", "label": "제주국제공항 (CJU)"},
      {"value": "PUS", "label": "김해국제공항 (PUS)"},
      {"value": "NRT", "label": "도쿄 나리타 (NRT)"},
      {"value": "HND", "label": "도쿄 하네다 (HND)"},
      {"value": "KIX", "label": "오사카 간사이 (KIX)"},
      {"value": "FUK", "label": "후쿠오카 (FUK)"},
      {"value": "BKK", "label": "방콕 수완나품 (BKK)"},
      {"value": "SIN", "label": "싱가포르 창이 (SIN)"},
      {"value": "HKG", "label": "홍콩 (HKG)"}
    ]
  },
  "entityMapping": {
    "departure": "flight.departure",
    "arrival": "flight.arrival",
    "departureDate": "flight.departureDate",
    "returnDate": "flight.returnDate",
    "tripType": "flight.tripType",
    "adults": "flight.passengers.adults",
    "children": "flight.passengers.children"
  }
}
