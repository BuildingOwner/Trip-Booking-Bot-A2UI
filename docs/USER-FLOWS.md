# μ‚¬μ©μ ν”λ΅μ°

μ΄ λ¬Έμ„λ” μ—¬ν–‰ μμ•½ λ΄‡μ μ£Όμ” μ‚¬μ©μ μ‹λ‚λ¦¬μ¤λ¥Ό μ •μν•©λ‹λ‹¤.

---

## 1. μ „μ²΄ ν”λ΅μ° κ°μ”

```mermaid
flowchart TB
    Start((μ‹μ‘)) --> TypeSelect["μ—¬ν–‰ νƒ€μ… μ„ νƒ"]
    TypeSelect -->|"ν•­κ³µκ¶"| Flight["ν•­κ³µκ¶ νΌ"]
    TypeSelect -->|"νΈν…”"| Hotel["νΈν…” νΌ"]
    TypeSelect -->|"λ ν„°μΉ΄"| Car["λ ν„°μΉ΄ νΌ"]
    TypeSelect -->|"ν¨ν‚¤μ§€"| Package["ν¨ν‚¤μ§€ νΌ"]

    Flight --> FlightSearch["ν•­κ³µνΈ κ²€μƒ‰"]
    Hotel --> HotelSearch["νΈν…” κ²€μƒ‰"]
    Car --> CarSearch["λ ν„°μΉ΄ κ²€μƒ‰"]
    Package --> PackageSearch["ν¨ν‚¤μ§€ κ²€μƒ‰"]

    FlightSearch --> Results["κ²€μƒ‰ κ²°κ³Ό"]
    HotelSearch --> Results
    CarSearch --> Results
    PackageSearch --> Results

    Results --> Select["μƒν’ μ„ νƒ"]
    Select --> Confirm["μμ•½ ν™•μΈ"]
    Confirm --> Complete((μ™„λ£))
```

---

## 2. μ‹λ‚λ¦¬μ¤ 1: ν•­κ³µκ¶ μμ•½

### 2.1 μ‹ν€€μ¤ λ‹¤μ΄μ–΄κ·Έλ¨

```mermaid
sequenceDiagram
    participant U as μ‚¬μ©μ
    participant C as μ±„ν… UI
    participant A as Agent
    participant R as A2UI Renderer

    U->>C: "μ μ£Όλ„ μ—¬ν–‰ μμ•½ν•κ³  μ‹¶μ–΄"
    C->>A: λ©”μ‹μ§€ μ „μ†΅
    A->>A: μλ„ λ¶„μ„: travel_booking
    A->>R: createSurface (travel-type)
    A->>R: updateComponents (νƒ€μ… μ„ νƒ μΉ΄λ“)
    R->>U: μ—¬ν–‰ νƒ€μ… μ„ νƒ UI ν‘μ‹

    U->>R: "ν•­κ³µκ¶" μΉ΄λ“ ν΄λ¦­
    R->>A: userAction: select-flight
    A->>R: deleteSurface (travel-type)
    A->>R: createSurface (flight-booking)
    A->>R: updateComponents (ν•­κ³µκ¶ νΌ)
    A->>R: updateDataModel (μ΄κΈ°κ°’ + κ³µν•­λ©λ΅)
    R->>U: ν•­κ³µκ¶ μμ•½ νΌ ν‘μ‹

    U->>R: νΌ μ…λ ¥ (μ¶λ°μ§€, λ„μ°©μ§€, λ‚ μ§...)
    R->>R: μ–‘λ°©ν–¥ λ°”μΈλ”©μΌλ΅ λ°μ΄ν„° μ—…λ°μ΄νΈ

    U->>R: "ν•­κ³µνΈ κ²€μƒ‰" ν΄λ¦­
    R->>A: userAction: search-flights + νΌ λ°μ΄ν„°
    A->>A: Mock APIλ΅ ν•­κ³µνΈ κ²€μƒ‰
    A->>R: createSurface (flight-results)
    A->>R: updateComponents (κ²€μƒ‰ κ²°κ³Ό λ¦¬μ¤νΈ)
    A->>R: updateDataModel (κ²€μƒ‰ κ²°κ³Ό)
    R->>U: κ²€μƒ‰ κ²°κ³Ό ν‘μ‹

    U->>R: ν•­κ³µνΈ μ„ νƒ
    R->>A: userAction: select-flight + μ„ νƒ λ°μ΄ν„°
    A->>R: createSurface (booking-confirmation)
    A->>R: updateComponents (μμ•½ ν™•μΈ UI)
    R->>U: "μμ•½μ΄ μ™„λ£λμ—μµλ‹λ‹¤!"
```

### 2.2 λ‹¨κ³„λ³„ μƒμ„Έ

#### Step 1: λ€ν™” μ‹μ‘

**μ‚¬μ©μ μ…λ ¥:**
```
"μ μ£Όλ„ μ—¬ν–‰ μμ•½ν•κ³  μ‹¶μ–΄"
```

**Agent μλ„ λ¶„μ„:**
- Intent: `travel_booking`
- Entity: `destination=μ μ£Όλ„`

**Agent μ‘λ‹µ:**
- μ—¬ν–‰ νƒ€μ… μ„ νƒ UI μƒμ„±

---

#### Step 2: μ—¬ν–‰ νƒ€μ… μ„ νƒ

**ν™”λ©΄:**
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  π¤– μ–΄λ–¤ μ—¬ν–‰μ„ κ³„νν•κ³  κ³„μ‹ κ°€μ”?                  β”‚
β”‚                                                    β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”β”€β”€β”€β”€β”€β”€β”€β”€β”β”‚
β”‚  β”‚    βοΈ    β”‚ β”‚    π¨    β”‚ β”‚    π—    β”‚ β”‚   π“¦   β”‚β”‚
β”‚  β”‚  ν•­κ³µκ¶  β”‚ β”‚   νΈν…”   β”‚ β”‚  λ ν„°μΉ΄  β”‚ β”‚ ν¨ν‚¤μ§€ β”‚β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β””β”€β”€β”€β”€β”€β”€β”€β”€β”β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

**μ‚¬μ©μ μ•΅μ…:**
- "ν•­κ³µκ¶" μΉ΄λ“ ν΄λ¦­

**userAction:**
```json
{
  "surfaceId": "travel-type-selector",
  "componentId": "flight-card",
  "action": "select-flight"
}
```

---

#### Step 3: ν•­κ³µκ¶ νΌ μ…λ ¥

**ν™”λ©΄:**
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  βοΈ ν•­κ³µκ¶ κ²€μƒ‰                                    β”‚
β”‚                                                    β”‚
β”‚  μ—¬ν–‰ μ ν•                                         β”‚
β”‚  β— μ™•λ³µ    β—‹ νΈλ„                                  β”‚
β”‚                                                    β”‚
β”‚  μ¶λ°μ§€              λ„μ°©μ§€                        β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β‡„  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                β”‚
β”‚  β”‚ μΈμ² (ICN)β–Όβ”‚     β”‚ μ μ£Ό (CJU)β–Όβ”‚                β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                β”‚
β”‚                                                    β”‚
β”‚  μ¶λ°μΌ                κ·€κµ­μΌ                      β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”      β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β”‚  β”‚ 2025-01-15 β”‚      β”‚ 2025-01-18 β”‚               β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”      β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β”‚                                                    β”‚
β”‚  νƒ‘μΉκ°                                            β”‚
β”‚  μ„±μΈ [2]    μ•„λ™ [0]    μ μ•„ [0]                  β”‚
β”‚                                                    β”‚
β”‚  μΆμ„ λ“±κΈ‰: [μ΄μ½”λ…Έλ―Έ β–Ό]                           β”‚
β”‚                                                    β”‚
β”‚  [μ΄μ „]              [ν•­κ³µνΈ κ²€μƒ‰]                 β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

**μ‚¬μ©μ μ…λ ¥:**
1. μ—¬ν–‰ μ ν•: μ™•λ³µ
2. μ¶λ°μ§€: μΈμ² (ICN)
3. λ„μ°©μ§€: μ μ£Ό (CJU)
4. μ¶λ°μΌ: 2025-01-15
5. κ·€κµ­μΌ: 2025-01-18
6. μ„±μΈ: 2λ…
7. μΆμ„ λ“±κΈ‰: μ΄μ½”λ…Έλ―Έ

**"ν•­κ³µνΈ κ²€μƒ‰" ν΄λ¦­ μ‹ userAction:**
```json
{
  "surfaceId": "flight-booking",
  "componentId": "search-btn",
  "action": "search-flights",
  "data": {
    "flight": {
      "tripType": "roundtrip",
      "departure": "ICN",
      "arrival": "CJU",
      "departureDate": "2025-01-15",
      "returnDate": "2025-01-18",
      "passengers": { "adults": 2, "children": 0, "infants": 0 },
      "class": "economy"
    }
  }
}
```

---

#### Step 4: κ²€μƒ‰ κ²°κ³Ό ν‘μ‹

**ν™”λ©΄:**
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  κ²€μƒ‰ κ²°κ³Ό (3κ±΄)                                   β”‚
β”‚                                                    β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚  β”‚ λ€ν•ν•­κ³µ KE1201                               β”‚ β”‚
β”‚  β”‚ 08:00 ICN β†’ 09:10 CJU                        β”‚ β”‚
β”‚  β”‚                           89,000μ›    [μ„ νƒ] β”‚ β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚                                                    β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚  β”‚ μ•„μ‹μ•„λ‚ OZ8941                               β”‚ β”‚
β”‚  β”‚ 10:30 ICN β†’ 11:40 CJU                        β”‚ β”‚
β”‚  β”‚                           95,000μ›    [μ„ νƒ] β”‚ β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚                                                    β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚  β”‚ μ μ£Όν•­κ³µ 7C101                                β”‚ β”‚
β”‚  β”‚ 14:00 GMP β†’ 15:05 CJU                        β”‚ β”‚
β”‚  β”‚                           65,000μ›    [μ„ νƒ] β”‚ β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚                                                    β”‚
β”‚  [κ²€μƒ‰ μ΅°κ±΄ μμ •]                                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

#### Step 5: μμ•½ μ™„λ£

**ν™”λ©΄:**
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                     β…                             β”‚
β”‚                                                    β”‚
β”‚         μμ•½μ΄ μ™„λ£λμ—μµλ‹λ‹¤!                      β”‚
β”‚                                                    β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚  β”‚ μμ•½λ²νΈ: BK20250101-001                      β”‚ β”‚
β”‚  β”‚                                              β”‚ β”‚
β”‚  β”‚ λ€ν•ν•­κ³µ KE1201                               β”‚ β”‚
β”‚  β”‚ 2025-01-15 (μ) 08:00                        β”‚ β”‚
β”‚  β”‚ μΈμ² (ICN) β†’ μ μ£Ό (CJU)                      β”‚ β”‚
β”‚  β”‚ μ„±μΈ 2λ… / μ΄μ½”λ…Έλ―Έ                           β”‚ β”‚
β”‚  β”‚                                              β”‚ β”‚
β”‚  β”‚ μ΄ κ²°μ κΈμ•΅: 178,000μ›                        β”‚ β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚                                                    β”‚
β”‚  [μ²μμΌλ΅]              [μμ•½ μƒμ„Έ]               β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## 3. μ‹λ‚λ¦¬μ¤ 2: μ™•λ³µ/νΈλ„ μ „ν™

### 3.1 μ΅°κ±΄λ¶€ UI λ™μ‘

```mermaid
flowchart LR
    subgraph μ™•λ³µ["μ™•λ³µ μ„ νƒ"]
        R1["μ—¬ν–‰ μ ν•: β— μ™•λ³µ"]
        R2["μ¶λ°μΌ + κ·€κµ­μΌ<br/>(2κ° ν•„λ“ ν‘μ‹)"]
        R1 --> R2
    end

    subgraph νΈλ„["νΈλ„ μ„ νƒ"]
        O1["μ—¬ν–‰ μ ν•: β— νΈλ„"]
        O2["μ¶λ°μΌλ§<br/>(κ·€κµ­μΌ μ¨κΉ€)"]
        O1 --> O2
    end
```

### 3.2 μ‚¬μ©μ μ•΅μ… νλ¦„

1. μ΄κΈ° μƒνƒ: μ™•λ³µ μ„ νƒλ¨ β†’ κ·€κµ­μΌ ν‘μ‹
2. μ‚¬μ©μκ°€ "νΈλ„" μ„ νƒ
3. λ°μ΄ν„° λ¨λΈ μ—…λ°μ΄νΈ: `/flight/tripType = "oneway"`
4. `return-date` μ»΄ν¬λ„νΈμ `visible` μ΅°κ±΄ ν‰κ°€
5. μ΅°κ±΄ `/flight/tripType == 'roundtrip'` β†’ `false`
6. κ·€κµ­μΌ ν•„λ“ μ¨κΉ€

---

## 4. μ‹λ‚λ¦¬μ¤ 3: νΈν…” μμ•½

### 4.1 μ‹ν€€μ¤

```mermaid
sequenceDiagram
    participant U as μ‚¬μ©μ
    participant R as A2UI Renderer
    participant A as Agent

    U->>R: "νΈν…”" μΉ΄λ“ ν΄λ¦­
    R->>A: userAction: select-hotel
    A->>R: createSurface (hotel-booking)
    A->>R: updateComponents (νΈν…” νΌ)
    R->>U: νΈν…” νΌ ν‘μ‹

    U->>R: λ©μ μ§€ μ…λ ¥: "μ μ£Ό"
    U->>R: μ²΄ν¬μΈ: 2025-01-15
    U->>R: μ²΄ν¬μ•„μ›ƒ: 2025-01-18
    U->>R: κ°μ‹¤: 1, μ„±μΈ: 2
    U->>R: μµμ…: μ΅°μ‹ ν¬ν•¨ β“

    U->>R: "νΈν…” κ²€μƒ‰" ν΄λ¦­
    R->>A: userAction: search-hotels + λ°μ΄ν„°
    A->>R: κ²€μƒ‰ κ²°κ³Ό UI
    R->>U: νΈν…” λ¦¬μ¤νΈ ν‘μ‹
```

### 4.2 νΈν…” νΌ ν™”λ©΄

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  π¨ νΈν…” κ²€μƒ‰                                      β”‚
β”‚                                                    β”‚
β”‚  λ©μ μ§€                                            β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚  β”‚ π” μ μ£Ό                                     β”‚   β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚                                                    β”‚
β”‚  μ²΄ν¬μΈ                μ²΄ν¬μ•„μ›ƒ                    β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”      β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β”‚  β”‚ 2025-01-15 β”‚      β”‚ 2025-01-18 β”‚               β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”      β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β”‚                                                    β”‚
β”‚  κ°μ‹¤ μ: [1]                                      β”‚
β”‚                                                    β”‚
β”‚  ν¬μ™κ°                                            β”‚
β”‚  μ„±μΈ [2]              μ•„λ™ [0]                    β”‚
β”‚                                                    β”‚
β”‚  μµμ…                                              β”‚
β”‚  β‘ μ΅°μ‹ ν¬ν•¨                                       β”‚
β”‚  β λ¬΄λ£ μ·¨μ† κ°€λ¥                                  β”‚
β”‚  β λ°λ ¤λ™λ¬Ό λ™λ° κ°€λ¥                              β”‚
β”‚                                                    β”‚
β”‚  [μ΄μ „]                [νΈν…” κ²€μƒ‰]                 β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## 5. μ‹λ‚λ¦¬μ¤ 4: λ ν„°μΉ΄ μμ•½

### 5.1 μ΅°κ±΄λ¶€ UI: λ™μΌ μ¥μ† λ°λ‚©

```mermaid
flowchart LR
    subgraph λ™μΌμ¥μ†["λ™μΌ μ¥μ† λ°λ‚© β“"]
        S1["ν”½μ—… μ¥μ†λ§ ν‘μ‹"]
        S2["λ°λ‚© μ¥μ† = ν”½μ—… μ¥μ†"]
    end

    subgraph λ‹¤λ¥Έμ¥μ†["λ™μΌ μ¥μ† λ°λ‚© β—"]
        D1["ν”½μ—… μ¥μ†"]
        D2["λ°λ‚© μ¥μ† (λ³„λ„ μ„ νƒ)"]
        D1 --> D2
    end
```

### 5.2 λ ν„°μΉ΄ νΌ ν™”λ©΄

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  π— λ ν„°μΉ΄ κ²€μƒ‰                                    β”‚
β”‚                                                    β”‚
β”‚  β‘ λ™μΌ μ¥μ† λ°λ‚©                                  β”‚
β”‚                                                    β”‚
β”‚  ν”½μ—… μ¥μ†                                         β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚  β”‚ μ μ£Όκ³µν•­                                  β–Ό β”‚   β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚                                                    β”‚
β”‚  ν”½μ—… μΌμ‹              λ°λ‚© μΌμ‹                  β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”      β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β”‚  β”‚ 01-15 10:00β”‚      β”‚ 01-18 18:00β”‚               β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”      β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β”‚                                                    β”‚
β”‚  μ°¨μΆ…                                              β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚  β”‚ μ¤‘ν•                                     β–Ό β”‚   β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚                                                    β”‚
β”‚  μµμ…                                              β”‚
β”‚  β‘ μ™„μ „ μμ°¨ λ³΄ν—                                  β”‚
β”‚  β‘ GPS λ„¤λΉ„κ²μ΄μ…                                  β”‚
β”‚  β μ μ•„μ© μΉ΄μ‹νΈ                                   β”‚
β”‚                                                    β”‚
β”‚  [μ΄μ „]                [λ ν„°μΉ΄ κ²€μƒ‰]               β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## 6. μ—λ¬ μ²λ¦¬ ν”λ΅μ°

### 6.1 κ²€μƒ‰ κ²°κ³Ό μ—†μ

```mermaid
sequenceDiagram
    participant U as μ‚¬μ©μ
    participant R as A2UI Renderer
    participant A as Agent

    U->>R: "ν•­κ³µνΈ κ²€μƒ‰" ν΄λ¦­
    R->>A: userAction: search-flights
    A->>A: κ²€μƒ‰ κ²°κ³Ό 0κ±΄
    A->>R: updateComponents (no-results)
    R->>U: "κ²€μƒ‰ κ²°κ³Όκ°€ μ—†μµλ‹λ‹¤" λ©”μ‹μ§€ + μ΅°κ±΄ μμ • λ²„νΌ
```

### 6.2 μ—λ¬ λ©”μ‹μ§€ UI

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                     β οΈ                             β”‚
β”‚                                                    β”‚
β”‚    κ²€μƒ‰ μ΅°κ±΄μ— λ§λ” ν•­κ³µνΈμ΄ μ—†μµλ‹λ‹¤.              β”‚
β”‚                                                    β”‚
β”‚    β€Ά λ‹¤λ¥Έ λ‚ μ§λ¥Ό μ„ νƒν•΄λ³΄μ„Έμ”                       β”‚
β”‚    β€Ά μ¶λ°μ§€/λ„μ°©μ§€λ¥Ό λ³€κ²½ν•΄λ³΄μ„Έμ”                   β”‚
β”‚                                                    β”‚
β”‚              [κ²€μƒ‰ μ΅°κ±΄ μμ •]                       β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## 7. λ„¤λΉ„κ²μ΄μ… ν”λ΅μ°

### 7.1 "μ΄μ „" λ²„νΌ λ™μ‘

| ν„μ¬ ν™”λ©΄ | "μ΄μ „" ν΄λ¦­ μ‹ | λ™μ‘ |
|-----------|----------------|------|
| ν•­κ³µκ¶ νΌ | μ—¬ν–‰ νƒ€μ… μ„ νƒ | deleteSurface + createSurface |
| νΈν…” νΌ | μ—¬ν–‰ νƒ€μ… μ„ νƒ | deleteSurface + createSurface |
| κ²€μƒ‰ κ²°κ³Ό | ν•΄λ‹Ή νΌ | deleteSurface + createSurface |
| μμ•½ ν™•μΈ | κ²€μƒ‰ κ²°κ³Ό | deleteSurface + createSurface |

### 7.2 "μ²μμΌλ΅" λ²„νΌ λ™μ‘

λ¨λ“  Surface μ‚­μ  ν›„ μ—¬ν–‰ νƒ€μ… μ„ νƒ UIλ΅ λ³µκ·€

```json
{
  "userAction": {
    "surfaceId": "booking-confirmation",
    "componentId": "home-btn",
    "action": "go-home"
  }
}
```
